# Figma AI Analyzer 使用指南

## 🚀 重要更新

您反馈的问题已经完全解决！新版本包含以下重大改进：

### ✅ 修复的问题
1. **AI分析失败** - 完全重构了AI调用逻辑，参考您的Figma Plugin代码
2. **缺少翻译功能** - 新增多语言翻译支持
3. **多AI服务商支持** - 支持DeepSeek、OpenAI、Claude
4. **更好的JSON生成** - 专业的提示词，生成结构化JSON
5. **增强的错误处理** - 详细的调试信息和备用方案

### 🎯 新功能特色

#### 1. **多AI服务商支持**
- **DeepSeek** - 性价比高，中文优化
- **OpenAI** - 稳定可靠，广泛使用
- **Claude** - 质量优秀，逻辑清晰

#### 2. **三大核心功能**
- **📝 文案提取** - 递归获取所有文本内容
- **🔄 智能翻译** - 多语言文案翻译
- **📊 JSON生成** - 结构化文案数据

#### 3. **专业的UI界面**
- **标签页设计** - 设置/提取/分析分离
- **实时状态反馈** - 详细的操作提示
- **一键复制** - 快速导出JSON结果

## 📋 详细使用步骤

### 步骤1: 扩展安装
```bash
# 1. 重新构建扩展（已完成）
pnpm build

# 2. 重新加载Chrome扩展
# - 访问 chrome://extensions/
# - 找到 "Figma AI Analyzer"
# - 点击刷新按钮 🔄
```

### 步骤2: 配置设置
1. **选择AI服务商**：DeepSeek（推荐）、OpenAI、或Claude
2. **输入API密钥**：对应服务商的密钥
3. **项目描述**（可选）：描述您的项目背景获得更准确结果
4. **自定义提示词**（可选）：高级用户可自定义
5. **保存设置**：确保配置生效

### 步骤3: 提取文案
1. **打开Figma设计文件**：确保在设计页面
2. **选择设计元素**：选中包含文案的元素
3. **点击"获取Figma选中元素"**：自动提取所有文案
4. **查看提取结果**：确认文案内容正确

### 步骤4: AI处理
选择需要的操作：

#### 🎯 生成结构化JSON
- 生成前端开发可用的文案JSON
- 智能分析文案结构和用途
- 规范化的键名（page_title、btn_primary等）

#### 🌍 文案翻译
- **翻译为英文**：适合国际化项目
- **翻译为中文**：适合本地化需求
- **保持UI文案特色**：考虑界面显示

## 🎨 预期输出格式

### JSON结构示例
```json
{
  "page_title": "Frontend Mentor Challenge",
  "header": {
    "title": "Improve your front-end skills by building projects",
    "subtitle": "Scan the QR code to visit Frontend Mentor",
    "description": "Take your coding skills to the next level"
  },
  "content": {
    "main_cta": "Get Started",
    "secondary_action": "Learn More"
  }
}
```

### 翻译结果示例
```json
{
  "pageType": "翻译结果",
  "description": "成功翻译 2 条文案", 
  "elements": [
    {
      "id": "translated-0",
      "name": "翻译 1",
      "type": "TRANSLATION",
      "purpose": "翻译文案",
      "properties": {
        "translated": "通过构建项目提升您的前端技能"
      }
    }
  ]
}
```

## 🔧 故障排除

### Q1: 仍然显示"无法解析AI分析结果"？
**解决方案**：
1. 确保重新加载了Chrome扩展
2. 检查API密钥是否正确配置
3. 切换到DeepSeek服务商试试
4. 查看开发者工具Console日志

### Q2: 无法提取文案？
**解决方案**：
1. 确保在Figma设计文件页面（不是团队页面）
2. 选中包含文案的元素
3. 扩展支持备用方案，会自动提取页面文本

### Q3: API调用失败？
**解决方案**：
1. 验证API密钥有效性
2. 检查账户余额
3. 确认网络连接正常
4. 尝试不同的AI服务商

## 💡 最佳实践

### 1. **API密钥管理**
- DeepSeek：https://platform.deepseek.com/
- OpenAI：https://platform.openai.com/
- Claude：https://console.anthropic.com/

### 2. **提取效果优化**
- 选择完整的设计组件
- 包含文案的区域或页面
- 避免选择空白区域

### 3. **项目描述建议**
```
示例：这是一个前端挑战项目的响应式卡片组件，
包含标题、描述文本和行动引导按钮。
目标用户是Web开发学习者。
```

### 4. **生成的JSON用途**
- **前端开发**：直接用作多语言配置
- **文案管理**：统一管理界面文案
- **设计规范**：建立文案命名规范

## 🎉 成功案例

基于您提供的文案："Improve your front-end skills by building projects" 和 "Scan the QR code to visit Frontend Mentor..."

现在扩展将生成：
```json
{
  "page_title": "Frontend Mentor",
  "hero": {
    "main_title": "Improve your front-end skills by building projects",
    "description": "Scan the QR code to visit Frontend Mentor and take your coding skills to the next level"
  },
  "cta": {
    "primary": "Start Building",
    "secondary": "Learn More"
  }
}
```

## 📞 技术支持

如果仍有问题，请提供：
1. Chrome开发者工具的Console日志
2. 具体的错误信息
3. 使用的AI服务商和配置
4. Figma页面的截图

现在重新测试扩展，应该能完美工作了！🚀 
